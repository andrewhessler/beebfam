<head>
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <link rel="stylesheet" href="/assets/index.css" />
  <title>Beebfam Hub</title>
</head>

<body>
  <div id="root">
    <div id="locations">
      <div class="location">
        <a href="https://ainbox.beebfam.org"><button class="location">Andrew Inbox</button></a>
      </div>
      <div class="location">
        <a href="https://chores.beebfam.org"><button class="location">Chores</button></a>
      </div>
      <div class="location">
        <a href="https://mario.beebfam.org"><button class="location">Mario</button></a>
      </div>
      <div class="location">
        <a href="https://media.beebfam.org"><button class="location">Media</button></a>
      </div>
      <div class="location">
        <a href="https://supply.beebfam.org"><button class="location">Shopping</button></a>
      </div>
    </div>

    <div id="login-block">
      <input type="text" id="password" onfocus="this.value = this.value === 'Login needed' ? '' : this.value" /> <button onclick="login()">Login</button>
    </div>
  </div>

  <script>
    const login = async () => {
      const password = document.getElementById("password");
      const response = await fetch('/login', {
        method: "POST",
        body: JSON.stringify({
          password: password.value
        }),
        headers: {
          "Content-Type": "application/json"
        }
      })

      if (!response.ok) {
        password.value = "Login needed";
      } else {
        password.value = "Logged In!";
      }
    }
    login()
  </script>
</body>

